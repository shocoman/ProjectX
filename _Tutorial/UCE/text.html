<!DOCTYPE html>

<html lang="ru">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Useless Code Elimination</title>
</head>

<body>

    <h3>Удаление ненужного кода (Useless Code Elimination)</h3>
    <p>Для более подробной информации о данном методе оптимизации вы можете обратиться к книге: "Engineering a Compiler
        - 2nd Edition".</p>
    <p>Этот метод состоит сразу из трёх алгоритмов: удаление бесполезных инструкций, удаление недостижимых базовых
        блоков и объединение базовых блоков. Опишем каждый из алгоритмов далее.</p>
    <h4>1. Удаление бесполезных инструкций</h4>
    <p>Бесполезными считаются все инструкции, которые не критичны/полезны. Первым делом мы выбираем эти критичные
        инструкции. К ним относятся: инструкция "return", вызов процедур, работы с пользоватеским вводом/выводом и
        другие, которые непосредственно влияют на задачу, выполняемую процедурой.</p>
    <p>На втором шаге мы также помечаем, как критические, все инструкции которые были связаны с теми, которые мы
        выделили. Например, если инструкция "return A" считается критической, то и те инструкции, которые определяют
        содержимое переменной "А", тоже будут критическими (например, "A = 4").</p>
    <p>В конечном счёте мы будем иметь набор критических (важных) инструкций. Далее можно будет безопасно удалить все
        инструкции, которые не входят в данный набор.</p>
    <h4>2. Удаление недостижимых блоков</h4>
    <p>В этом алгоритме мы удаляем недостижимые базовые блоки, то есть такие, до которых поток выполнения программы не
        может дойти ни при каких условиях. Для поиска этих блоков, мы просто делаем поиск в глубину на графе потока
        управления, начиная со входа в процедуру, и помечаем те блоки, до которых мы смогли дойти. После чего остальные
        блоки, не из этого списка, просто удаляются.</p>
    <h4>3. Объединение базовых блоков</h4>
    <p>Данный алгоритм делает сразу четыре типа оптимизаций, которые вы можете пронаблюдать на изображениях снизу.</p>
    <ol>
        <li>Сворачивание инструкции IF (условный переход), если следующий за ней базовый блок тот же, что и метка
            перехода
            <br><center><img src="./imgs/block_fold_redundant_branch.png"></center>
        </li>
        <li>Удаление пустого блока
            <br><center><img src="./imgs/block_remove_empty_block.png"></center>
        </li>
        <li>Совмещение блоков в случае, если блок 'A' имеет только одного последователя 'B', а блок 'B' только одного
            предшественника 'A'
            <br><center><img src="./imgs/block_combine_blocks.png"></center>
        </li>
        <li>Поднятие IF инструкции на блок выше, в случае, если следующий блок не имеет инструкций
            <br><center><img src="./imgs/block_hoist_branch.png"></center>
        </li>
    </ol>

    <br>
    <ABYSS RESULT_GRAPH></ABYSS>

</body>

</html>